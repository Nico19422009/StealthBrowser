<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>StealthBrowser</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background: #111;
      color: #fff;
    }
    #nav {
      display: flex;
      background: #222;
      padding: 8px;
    }
    #nav input {
      flex: 1;
      padding: 6px;
      border: none;
      border-radius: 4px;
      margin: 0 5px;
    }
    #nav button {
      padding: 6px 10px;
      background: #444;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    #tabs {
      background: #1a1a1a;
      padding: 6px;
      overflow-x: auto;
      white-space: nowrap;
    }
    #tabs span {
      display: inline-block;
      background: #333;
      padding: 5px 10px;
      margin-right: 5px;
      border-radius: 4px;
      cursor: pointer;
    }
    iframe {
      width: 100%;
      height: calc(100vh - 90px);
      border: none;
    }
  </style>
</head>
<body>
  <div id="nav">
    <button onclick="goBack()">&larr;</button>
    <button onclick="goForward()">&rarr;</button>
    <button onclick="reload()">&#10227;</button>
    <input type="text" id="urlbar" placeholder="Enter URL and press Enter" onkeydown="handleEnter(event)">
    <button onclick="newTab()">+ Tab</button>
  </div>
  <div id="tabs"></div>
  <div id="frames"></div>

  <script>
    let tabs = [];
    let currentTab = -1;

    function createTab(url = "https://duckduckgogg42xjoc72x3sjasowoarfbgcmvfimaftt6twagswzczad.onion/") {
      const tabIndex = tabs.length;

      const tabBtn = document.createElement("span");
      tabBtn.innerText = "Tab " + (tabIndex + 1);
      tabBtn.onclick = () => switchTab(tabIndex);
      document.getElementById("tabs").appendChild(tabBtn);

      const frame = document.createElement("iframe");
      frame.src = url;
      frame.style.display = "none";
      frame.id = "tab-frame-" + tabIndex;
      document.getElementById("frames").appendChild(frame);

      tabs.push({ url: url, frame: frame });
      switchTab(tabIndex);
    }

    function switchTab(index) {
      if (currentTab !== -1) {
        tabs[currentTab].frame.style.display = "none";
      }
      tabs[index].frame.style.display = "block";
      document.getElementById("urlbar").value = tabs[index].url;
      currentTab = index;
    }

    function navigateTo(url) {
      if (!url.startsWith("http")) url = "https://" + url;
      tabs[currentTab].url = url;
      tabs[currentTab].frame.src = url;
    }

    function reload() {
      tabs[currentTab].frame.src = tabs[currentTab].url;
    }

    function goBack() {
      tabs[currentTab].frame.contentWindow.history.back();
    }

    function goForward() {
      tabs[currentTab].frame.contentWindow.history.forward();
    }

    function handleEnter(e) {
      if (e.key === "Enter") {
        navigateTo(document.getElementById("urlbar").value);
      }
    }

    function newTab() {
      createTab();
    }

    window.onload = () => {
      createTab();
    }
  </script>
</body>
</html>
